function [ energy ] = computeEnergy( dataCost, disparity, lambda )
%UNTITLED3 Summary of this function goes here
%   Detailed explanation goes here

energy = 0;
[h, w, nDisparityValues] = size(dataCost);
dataCostReshaped = reshape(dataCost, h*w, nDisparityValues);
disparityReshaped = reshape(disparity, h*w, 1);
dataCostForDisparity = dataCostReshaped(:, disparityReshaped)

[W, H] = meshgrid((1:h), (1:w)); 
dataCostForDisparity = dataCost(H, W, disparity);

end

